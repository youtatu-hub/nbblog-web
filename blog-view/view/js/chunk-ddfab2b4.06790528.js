(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddfab2b4"],{1218:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Comment"),s("Pagination")],1)},o=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[-1===t.parentCommentId?s("CommentForm"):t._e(),s("h3",{staticClass:"ui dividing header"},[t._v("Comments | å…± "+t._s(t.allComment)+" æ¡è¯„è®º"),0!==t.closeComment?s("span",[t._v("ï¼ˆ"+t._s(t.closeComment)+" æ¡è¯„è®ºè¢«éšè—ï¼‰")]):t._e()]),0===t.allComment?s("h3",{staticClass:"ui header"},[t._v("å¿«æ¥æŠ¢æ²™å‘ï¼")]):t._e(),t._l(t.comments,(function(e){return s("div",{key:e.id,staticClass:"comment"},[s("span",{staticClass:"anchor",attrs:{id:"comment-"+e.id}}),s("a",{staticClass:"ui circular image avatar"},[s("img",{attrs:{src:e.avatar}})]),s("div",{staticClass:"content"},[s("a",{staticClass:"nickname",attrs:{href:""!=e.website&&null!=e.website?e.website:null,target:"_blank",rel:"external nofollow noopener"}},[t._v(t._s(e.nickname))]),e.adminComment?s("div",{staticClass:"ui black left pointing label"},[t._v(t._s(t.$store.state.siteInfo.commentAdminFlag))]):t._e(),s("div",{staticClass:"metadata"},[s("strong",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(e.createTime,"YYYY-MM-DD HH:mm")))])]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.setReply(e.id)}}},[t._v("å›žå¤")]),s("div",{staticClass:"text",domProps:{innerHTML:t._s(e.content)}})],1),e.replyComments.length>0?s("div",{staticClass:"comments"},t._l(e.replyComments,(function(e){return s("div",{key:e.id,staticClass:"comment"},[s("span",{staticClass:"anchor",attrs:{id:"comment-"+e.id}}),s("a",{staticClass:"ui circular image avatar"},[s("img",{attrs:{src:e.avatar}})]),s("div",{staticClass:"content"},[s("a",{staticClass:"nickname",attrs:{href:""!=e.website&&null!=e.website?e.website:null,target:"_blank",rel:"external nofollow noopener"}},[t._v(t._s(e.nickname))]),e.adminComment?s("div",{staticClass:"ui black left pointing label"},[t._v(t._s(t.$store.state.siteInfo.commentAdminFlag))]):t._e(),s("div",{staticClass:"metadata"},[s("strong",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(e.createTime,"YYYY-MM-DD HH:mm")))])]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.setReply(e.id)}}},[t._v("å›žå¤")]),s("div",{staticClass:"text"},[s("a",{attrs:{href:"#comment-"+e.parentCommentId}},[t._v("@"+t._s(e.parentCommentNickname))]),s("div",{domProps:{innerHTML:t._s(e.content)}})])],1),t.parentCommentId===e.id?s("CommentForm"):t._e()],1)})),0):t._e(),s("div",{staticClass:"border"}),t.parentCommentId===e.id?s("CommentForm"):t._e()],1)}))],2)},n=[],r=s("2f62"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form"},[s("h3",[t._v(" å‘è¡¨è¯„è®º "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!==t.parentCommentId,expression:"parentCommentId!==-1"}],staticClass:"m-small",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$store.commit(t.SET_PARENT_COMMENT_ID,-1)}}},[t._v("å–æ¶ˆå›žå¤")])],1),s("el-form",{ref:"formRef",attrs:{inline:!0,model:t.commentForm,rules:t.formRules,size:"small"}},[s("el-input",{class:"textarea",attrs:{type:"textarea",rows:5,placeholder:"è¯„è®ºåƒä¸‡æ¡ï¼Œå‹å–„ç¬¬ä¸€æ¡",maxlength:"250","show-word-limit":"","validate-event":!1},model:{value:t.commentForm.content,callback:function(e){t.$set(t.commentForm,"content",e)},expression:"commentForm.content"}}),s("div",{staticClass:"el-form-item el-form-item--small emoji"},[s("img",{attrs:{src:"https://cdn.naccl.top/blog/img/paopao/1.png"},on:{click:t.showEmojiBox}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.emojiShow,expression:"emojiShow"}],staticClass:"mask",on:{click:t.hideEmojiBox}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.emojiShow,expression:"emojiShow"}],staticClass:"emoji-box"},[s("div",{staticClass:"emoji-title"},[s("span",[t._v(t._s(0===t.activeEmojiTab?"tv_å°ç”µè§†":1===t.activeEmojiTab?"é˜¿é²":"æ³¡æ³¡"))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.activeEmojiTab,expression:"activeEmojiTab===0"}],staticClass:"emoji-wrap"},t._l(t.tvMapper,(function(e,i){return s("div",{key:i,staticClass:"emoji-list",on:{click:function(s){return t.insertEmoji(e.name)}}},[s("img",{attrs:{src:e.src,title:e.name}})])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activeEmojiTab,expression:"activeEmojiTab===1"}],staticClass:"emoji-wrap"},t._l(t.aruMapper,(function(e,i){return s("div",{key:i,staticClass:"emoji-list",on:{click:function(s){return t.insertEmoji(e.name)}}},[s("img",{attrs:{src:e.src,title:e.name}})])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.activeEmojiTab,expression:"activeEmojiTab===2"}],staticClass:"emoji-wrap"},t._l(t.paopaoMapper,(function(e,i){return s("div",{key:i,staticClass:"emoji-list",on:{click:function(s){return t.insertEmoji(e.name)}}},[s("img",{attrs:{src:e.src,title:e.name}})])})),0),s("div",{staticClass:"emoji-tabs"},[s("a",{staticClass:"tab-link",class:{on:0===t.activeEmojiTab},on:{click:function(e){t.activeEmojiTab=0}}},[s("img",{attrs:{src:"https://cdn.naccl.top/blog/img/tv/1.png"}})]),s("a",{staticClass:"tab-link",class:{on:1===t.activeEmojiTab},on:{click:function(e){t.activeEmojiTab=1}}},[s("img",{attrs:{src:"https://cdn.naccl.top/blog/img/aru/1.png"}})]),s("a",{staticClass:"tab-link",class:{on:2===t.activeEmojiTab},on:{click:function(e){t.activeEmojiTab=2}}},[s("img",{attrs:{src:"https://cdn.naccl.top/blog/img/paopao/1.png"}})])])])]),s("el-form-item",{attrs:{prop:"nickname"}},[s("el-input",{directives:[{name:"popover",rawName:"v-popover:nicknamePopover",arg:"nicknamePopover"}],attrs:{placeholder:"æ˜µç§°ï¼ˆå¿…å¡«ï¼‰","validate-event":!1},model:{value:t.commentForm.nickname,callback:function(e){t.$set(t.commentForm,"nickname",e)},expression:"commentForm.nickname"}},[s("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{prop:"email"}},[s("el-popover",{ref:"emailPopover",attrs:{placement:"bottom",trigger:"focus",content:"ç”¨äºŽæŽ¥æ”¶å›žå¤é‚®ä»¶"}}),s("el-input",{directives:[{name:"popover",rawName:"v-popover:emailPopover",arg:"emailPopover"}],attrs:{placeholder:"é‚®ç®±ï¼ˆå¿…å¡«ï¼‰","validate-event":!1},model:{value:t.commentForm.email,callback:function(e){t.$set(t.commentForm,"email",e)},expression:"commentForm.email"}},[s("i",{staticClass:"el-input__icon el-icon-message",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{prop:"website"}},[s("el-popover",{ref:"websitePopover",attrs:{placement:"bottom",trigger:"focus",content:"å¯ä»¥è®©æˆ‘å‚è§‚ä¸€ä¸‹å—ðŸ˜Š"}}),s("el-input",{directives:[{name:"popover",rawName:"v-popover:websitePopover",arg:"websitePopover"}],attrs:{placeholder:"https://ï¼ˆå¯é€‰ï¼‰","validate-event":!1},model:{value:t.commentForm.website,callback:function(e){t.$set(t.commentForm,"website",e)},expression:"commentForm.website"}},[s("i",{staticClass:"el-input__icon el-icon-map-location",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{label:"è®¢é˜…å›žå¤"}},[s("el-switch",{model:{value:t.commentForm.notice,callback:function(e){t.$set(t.commentForm,"notice",e)},expression:"commentForm.notice"}})],1),s("el-form-item",[s("el-button",{directives:[{name:"throttle",rawName:"v-throttle",value:[t.postForm,"click",3e3],expression:"[postForm,`click`,3000]"}],attrs:{type:"primary",size:"medium"}},[t._v("å‘è¡¨è¯„è®º")])],1)],1)],1)},l=[];const m=(t,e,s)=>{const i=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(i.test(e))return s();s(new Error("è¯·è¾“å…¥åˆæ³•çš„é‚®ç®±"))},d=(t,e,s)=>{const i=/^https?:\/\/([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/;if(i.test(e))return s();s(new Error("è¯·è¾“å…¥åˆæ³•çš„ URL"))};var u=s("4ba1"),h=s("1d41"),p=s("3494"),g=s("848a");const v=(t,e,s)=>{if(e)return d(t,e,s);s()};var b={name:"CommentForm",computed:{...Object(r["b"])(["parentCommentId","commentForm","commentQuery"])},data(){return{SET_PARENT_COMMENT_ID:u["o"],formRules:{nickname:[{required:!0,message:"è¯·è¾“å…¥è¯„è®ºæ˜µç§°"},{max:18,message:"æ˜µç§°ä¸å¯å¤šäºŽ15ä¸ªå­—ç¬¦"}],email:[{required:!0,message:"è¯·è¾“å…¥è¯„è®ºé‚®ç®±"},{validator:m}],website:[{required:!1},{validator:v}]},emojiShow:!1,activeEmojiTab:0,tvMapper:[],aruMapper:[],paopaoMapper:[],textarea:null,start:0,end:0}},created(){this.tvMapper=h,this.aruMapper=p,this.paopaoMapper=g},mounted(){this.textarea=document.querySelector(".el-form textarea")},methods:{showEmojiBox(){this.start=this.textarea.selectionStart,this.end=this.textarea.selectionEnd,this.textarea.focus(),this.textarea.setSelectionRange(this.start,this.end),this.emojiShow=!this.emojiShow},insertEmoji(t){let e=this.commentForm.content;this.commentForm.content=e.substring(0,this.start)+t+e.substring(this.end),this.start+=t.length,this.end=this.start,this.textarea.focus(),this.$nextTick(()=>{this.textarea.setSelectionRange(this.start,this.end)})},hideEmojiBox(){this.emojiShow=!1,this.textarea.focus(),this.textarea.setSelectionRange(this.start,this.end)},postForm(){const t=window.localStorage.getItem("adminToken");if(t)return""===this.commentForm.content||this.commentForm.content.length>250?this.$notify({title:"è¯„è®ºå¤±è´¥",message:"è¯„è®ºå†…å®¹æœ‰è¯¯",type:"warning"}):this.$store.dispatch("submitCommentForm",t);const e=window.localStorage.getItem("blog"+this.commentQuery.blogId);this.$refs.formRef.validate(t=>{!t||""===this.commentForm.content||this.commentForm.content.length>250?this.$notify({title:"è¯„è®ºå¤±è´¥",message:"è¯·æ­£ç¡®å¡«å†™è¯„è®º",type:"warning"}):this.$store.dispatch("submitCommentForm",e||"")})}}},f=b,C=(s("882d"),s("2877")),_=Object(C["a"])(f,c,l,!1,null,null,null),w=_.exports,k={name:"Comment",components:{CommentForm:w},computed:{...Object(r["b"])(["allComment","closeComment","comments","parentCommentId"])},methods:{setReply(t){this.$store.commit(u["o"],t)}}},y=k,x=(s("cd99"),Object(C["a"])(y,a,n,!1,null,"18546ec2",null)),T=x.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.commentQuery.pageNum,"page-count":t.commentTotalPage,layout:"prev, pager, next",background:"","hide-on-single-page":""},on:{"current-change":t.handleCurrentChange}})},F=[],E={name:"Pagination",computed:{...Object(r["b"])(["commentQuery","commentTotalPage"])},methods:{handleCurrentChange(t){this.$store.commit(u["k"],t),this.$store.commit(u["o"],-1),this.$store.dispatch("getCommentList")}}},$=E,I=(s("fa77"),Object(C["a"])($,j,F,!1,null,"5bc58a75",null)),S=I.exports,z={name:"CommentList",components:{Comment:T,Pagination:S},props:{page:{type:Number,required:!0},blogId:{type:Number,required:!1}},created(){this.init()},watch:{"$route.path"(){this.init()}},methods:{init(){this.$store.commit(u["o"],-1),this.$store.commit(u["j"],this.page),this.$store.commit(u["i"],this.blogId),this.$store.commit(u["k"],1),this.$store.dispatch("getCommentList")}}},M=z,H=Object(C["a"])(M,i,o,!1,null,"d0718afc",null);e["a"]=H.exports},"37f9":function(t,e,s){},"417a":function(t,e,s){"use strict";s("37f9")},"43e0":function(t,e,s){},6398:function(t,e,s){},"66ba":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"fullscreen-container":t.isFullscreen}},[s("div",{staticClass:"ui padded attached segment m-padded-tb-large"},[t.blog.top?s("div",{staticClass:"ui large red right corner label"},[s("i",{staticClass:"arrow alternate circle up icon"})]):t._e(),s("div",{staticClass:"ui middle aligned mobile reversed stackable"},[s("div",{staticClass:"ui grid m-margin-lr"},[s("div",{staticClass:"row m-padded-tb-small"},[s("h2",{staticClass:"ui header m-center"},[t._v(t._s(t.blog.title))])]),s("div",{staticClass:"row m-padded-tb-small"},[s("div",{staticClass:"ui horizontal link list m-center"},[s("div",{staticClass:"item m-datetime"},[s("i",{staticClass:"small calendar icon"}),s("span",[t._v(t._s(t._f("dateFormat")(t.blog.createTime,"YYYY-MM-DD")))])]),s("div",{staticClass:"item m-views"},[s("i",{staticClass:"small eye icon"}),s("span",[t._v(t._s(t.blog.views))])]),s("div",{staticClass:"item m-common-black"},[s("i",{staticClass:"small pencil alternate icon"}),s("span",[t._v("å­—æ•°â‰ˆ"+t._s(t.blog.words)+"å­—")])]),s("div",{staticClass:"item m-common-black"},[s("i",{staticClass:"small clock icon"}),s("span",[t._v("é˜…è¯»æ—¶é•¿â‰ˆ"+t._s(t.blog.readTime)+"åˆ†")])]),s("a",{staticClass:"item m-common-black",on:{click:function(e){e.preventDefault(),t.bigFontSize=!t.bigFontSize}}},[t._m(0)]),s("a",{staticClass:"item m-common-black",on:{click:function(e){return e.preventDefault(),t.changeFocusMode(e)}}},[t._m(1)]),s("a",{staticClass:"item m-common-black",on:{click:function(e){return e.preventDefault(),t.toggleFullscreen(e)}}},[s("div",{attrs:{"data-inverted":"","data-tooltip":"å…¨å±æ¨¡å¼","data-position":"top center"}},[t.isFullscreen?s("i",{staticClass:"compress arrows alternate icon"}):s("i",{staticClass:"expand arrows alternate icon"})])])])]),t.blog.category?s("router-link",{staticClass:"ui orange large ribbon label",attrs:{to:"/category/"+t.blog.category.name}},[s("i",{staticClass:"small folder open icon"}),s("span",{staticClass:"m-text-500"},[t._v(t._s(t.blog.category.name))])]):t._e(),s("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{selector: 'img'}"}],ref:"blogContent",staticClass:"typo js-toc-content m-padded-tb-small match-braces rainbow-braces",class:{"m-big-fontsize":t.bigFontSize},domProps:{innerHTML:t._s(t.blog.content)}}),s("div",{staticStyle:{margin:"2em auto"}},[t.blog.appreciation?s("el-popover",{attrs:{placement:"top",width:"220",trigger:"click"}},[s("div",{staticClass:"ui orange basic label",staticStyle:{width:"100%"}},[s("div",{staticClass:"image"},[s("div",{staticStyle:{"font-size":"12px","text-align":"center","margin-bottom":"5px"}},[t._v("ä¸€æ¯›æ˜¯é¼“åŠ±")]),s("img",{staticClass:"ui rounded bordered image",staticStyle:{width:"100%"},attrs:{src:t.$store.state.siteInfo.reward,alt:""}}),s("div",{staticStyle:{"font-size":"12px","text-align":"center","margin-top":"5px"}},[t._v("ä¸€å—æ˜¯çœŸçˆ±")])])]),s("el-button",{staticClass:"ui orange inverted circular button m-text-500",attrs:{slot:"reference"},slot:"reference"},[t._v("èµžèµ")])],1):t._e()],1),s("el-divider"),s("div",{staticClass:"row m-padded-tb-no"},[s("div",{staticClass:"column m-padding-left-no"},t._l(t.blog.tags,(function(e,i){return s("router-link",{key:i,staticClass:"ui tag label m-text-500 m-margin-small",class:e.color,attrs:{to:"/tag/"+e.name}},[t._v(t._s(e.name))])})),1)])],1)])]),t.isFullscreen?s("div",{staticClass:"fullscreen-toc",class:{"toc-hidden":t.isTocHidden}},[s("div",{staticClass:"toc-toggle",on:{click:t.toggleToc}},[s("i",{class:t.isTocHidden?"angle double right icon":"angle double left icon"})]),t._m(2)]):t._e(),s("div",{staticClass:"ui attached positive message"},[s("ul",{staticClass:"list"},[s("li",[t._v("ä½œè€…ï¼š"+t._s(t.$store.state.introduction.name)+" "),s("router-link",{attrs:{to:"/about"}},[t._v("ï¼ˆè”ç³»ä½œè€…ï¼‰")])],1),s("li",[t._v("å‘è¡¨æ—¶é—´ï¼š"+t._s(t._f("dateFormat")(t.blog.createTime,"YYYY-MM-DD HH:mm")))]),s("li",[t._v("æœ€åŽä¿®æ”¹ï¼š"+t._s(t._f("dateFormat")(t.blog.updateTime,"YYYY-MM-DD HH:mm")))]),t._m(3)])]),s("div",{staticClass:"ui bottom teal attached segment threaded comments"},[t.blog.commentEnabled?s("CommentList",{attrs:{page:0,blogId:t.blogId}}):s("h3",{staticClass:"ui header"},[t._v("è¯„è®ºå·²å…³é—­")])],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-inverted":"","data-tooltip":"ç‚¹å‡»åˆ‡æ¢å­—ä½“å¤§å°","data-position":"top center"}},[s("i",{staticClass:"font icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-inverted":"","data-tooltip":"ä¸“æ³¨æ¨¡å¼","data-position":"top center"}},[s("i",{staticClass:"book icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toc-content"},[s("div",{staticClass:"ui segments m-toc toc-wrapper m-box"},[s("div",{staticClass:"ui secondary segment"},[s("i",{staticClass:"list ul icon"}),t._v("æœ¬æ–‡ç›®å½• ")]),s("div",{staticClass:"ui yellow segment"},[s("div",{staticClass:"js-toc-fullscreen"})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t._v("æœ¬ç«™ç‚¹é‡‡ç”¨"),s("a",{attrs:{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank"}},[t._v(" ç½²å 4.0 å›½é™… (CC BY 4.0) ")]),t._v("åˆ›ä½œå…±äº«åè®®ã€‚å¯è‡ªç”±è½¬è½½ã€å¼•ç”¨ï¼Œå¹¶ä¸”å…è®¸å•†ä¸šæ€§ä½¿ç”¨ã€‚ä½†éœ€ç½²åä½œè€…ä¸”æ³¨æ˜Žæ–‡ç« å‡ºå¤„ã€‚")])}],a=s("864d"),n=s("1218"),r=s("2f62"),c=s("4ba1"),l={name:"Blog",components:{CommentList:n["a"]},data(){return{blog:{},bigFontSize:!1,isZoomed:!1,zoomedImage:null,scrollTimeout:null,isFullscreen:!1,isTocHidden:!1}},computed:{blogId(){return parseInt(this.$route.params.id)},...Object(r["b"])(["siteInfo","focusMode"])},beforeRouteEnter(t,e,s){s(t=>{t.$store.commit(c["m"],!1)})},beforeRouteLeave(t,e,s){this.$store.commit(c["l"],!1),tocbot.destroy(),s()},beforeRouteUpdate(t,e,s){t.path!==e.path&&(this.$store.commit(c["l"],!1),this.getBlog(t.params.id),this.$store.commit(c["m"],!1),s())},created(){this.getBlog()},methods:{getBlog(t=this.blogId){const e=window.localStorage.getItem("blog"+t),s=window.localStorage.getItem("adminToken"),i=s||(e||"");Object(a["b"])(i,t).then(t=>{200===t.code?(this.blog=t.data,document.title=this.blog.title+this.siteInfo.webTitleSuffix,this.$nextTick(()=>{Prism.highlightAll(),this.$store.commit(c["m"],!0)})):this.msgError(t.msg)}).catch(()=>{this.msgError("è¯·æ±‚å¤±è´¥")})},changeFocusMode(){this.$store.commit(c["l"],!this.focusMode)},handleImageZoom(t){const e=t.target;"img"===e.tagName.toLowerCase()&&(this.zoomedImage&&this.zoomedImage!==e&&this.resetZoom(this.zoomedImage),this.isZoomed&&this.zoomedImage===e?this.resetZoom(e):this.zoomImage(e))},zoomImage(t){const e=window.innerHeight,s=window.innerWidth,i=t.getBoundingClientRect(),o=Math.min(s/i.width*.8,2.5),a=Math.min(e/i.height*.8,2.5),n=Math.min(o,a);t.style.transform=`scale(${n})`,t.style.zIndex="1000",t.style.position="relative",this.isZoomed=!0,this.zoomedImage=t,t.classList.add("zoomed")},resetZoom(t){t&&(t.style.transform="scale(1)",t.style.zIndex="auto",t.style.position="static",t.classList.remove("zoomed")),this.isZoomed=!1,this.zoomedImage=null},handleScroll(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.isZoomed&&this.zoomedImage&&this.resetZoom(this.zoomedImage)},150)},setupImageHandling(){const t=this.$refs.blogContent;if(t){const e=t.getElementsByTagName("img");Array.from(e).forEach(t=>{t.style.cursor="pointer",t.addEventListener("click",this.handleImageZoom)})}},toggleFullscreen(){this.isFullscreen=!this.isFullscreen,this.isFullscreen?(document.body.style.overflow="hidden",window.scrollTo(0,0),this.$nextTick(()=>{this.initFullscreenTocbot();const t=localStorage.getItem("tocHidden");null!==t&&(this.isTocHidden="true"===t)})):(document.body.style.overflow="auto",localStorage.setItem("tocHidden",this.isTocHidden),tocbot.destroy(),this.$nextTick(()=>{this.initNormalTocbot()}))},toggleToc(){this.isTocHidden=!this.isTocHidden,localStorage.setItem("tocHidden",this.isTocHidden)},initFullscreenTocbot(){tocbot.init({tocSelector:".js-toc-fullscreen",contentSelector:".js-toc-content",headingSelector:"h1,h2,h3,h4",scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:-55,headingsOffset:-18})},initNormalTocbot(){this.$store.commit(c["m"],!0)}},mounted(){this.$nextTick(()=>{this.setupImageHandling()}),window.addEventListener("scroll",this.handleScroll),window.addEventListener("keydown",this.handleKeydown)},updated(){this.$nextTick(()=>{this.setupImageHandling()})},beforeDestroy(){this.isFullscreen&&(document.body.style.overflow="auto"),window.removeEventListener("scroll",this.handleScroll);const t=this.$refs.blogContent;if(t){const e=t.getElementsByTagName("img");Array.from(e).forEach(t=>{t.removeEventListener("click",this.handleImageZoom)})}}},m=l,d=(s("417a"),s("2877")),u=Object(d["a"])(m,i,o,!1,null,"e7f26a20",null);e["default"]=u.exports},"864d":function(t,e,s){"use strict";s.d(e,"b",(function(){return o})),s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return n}));var i=s("be3b");function o(t,e){return Object(i["a"])({url:"blog",method:"GET",headers:{Authorization:t},params:{id:e}})}function a(t){return Object(i["a"])({url:"checkBlogPassword",method:"POST",data:{...t}})}function n(t){return Object(i["a"])({url:"searchBlog",method:"GET",params:{query:t}})}},"882d":function(t,e,s){"use strict";s("6398")},"994c":function(t,e,s){},cd99:function(t,e,s){"use strict";s("994c")},fa77:function(t,e,s){"use strict";s("43e0")}}]);
//# sourceMappingURL=chunk-ddfab2b4.06790528.js.map