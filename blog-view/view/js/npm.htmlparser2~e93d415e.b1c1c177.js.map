{"version":3,"sources":["webpack:///./node_modules/htmlparser2/lib/FeedHandler.js","webpack:///./node_modules/htmlparser2/lib/Parser.js","webpack:///./node_modules/htmlparser2/lib/Tokenizer.js","webpack:///./node_modules/htmlparser2/lib/index.js","webpack:///./node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","parseFeed","FeedHandler","FeedItemMediaMedium","FeedItemMediaExpression","domhandler_1","DomUtils","Parser_1","_super","callback","options","_this","onend","_a","_b","feedRoot","getOneElement","isValidFeed","dom","feed","name","childs","children","type","addConditionally","href","getAttribute","link","updated","fetch","Date","items","getElements","map","item","entry","description","pubDate","media","getMediaElements","substr","id","handleCallback","Error","default","where","elem","medium","attribs","isDefault","url","fileSize","parseInt","expression","bitrate","framerate","samplingrate","channels","duration","height","width","lang","tagName","getElementsByTagName","node","recurse","getText","trim","obj","prop","what","tmp","xmlMode","handler","Parser","end","Tokenizer_1","formTags","Set","pTag","openImpliesClose","tr","th","td","body","li","h1","h2","h3","h4","h5","h6","select","input","output","button","datalist","textarea","option","optgroup","dd","dt","address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","header","hr","main","nav","ol","pre","section","table","ul","rt","rp","tbody","tfoot","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","cbs","_c","_d","_e","startIndex","endIndex","tagname","attribname","attribvalue","stack","foreignContext","lowerCaseTagNames","lowerCaseTags","lowerCaseAttributeNames","tokenizer","Tokenizer","onparserinit","updatePosition","initialOffset","sectionStart","getAbsoluteIndex","ontext","data","onopentagname","toLowerCase","el","length","has","onclosetag","push","onopentag","onopentagend","pop","closeCurrentTag","pos","lastIndexOf","onselfclosingtag","recognizeSelfClosing","onattribname","onattribdata","onattribend","quote","onattribute","getInstructionName","idx","search","ondeclaration","onprocessinginstruction","name_1","name_2","oncomment","oncommentend","oncdata","_f","recognizeCDATA","oncdatastart","oncdataend","onerror","err","i","reset","onreset","parseComplete","write","chunk","pause","resume","parseChunk","done","decode_codepoint_1","entities_json_1","legacy_json_1","xml_json_1","whitespace","c","isASCIIAlpha","ifElseState","upper","SUCCESS","FAILURE","lower","t","_state","_index","consumeSpecialNameChar","NEXT_STATE","stateBeforeCdata1","stateBeforeCdata2","stateBeforeCdata3","stateBeforeCdata4","stateBeforeCdata5","stateBeforeScript1","stateBeforeScript2","stateBeforeScript3","stateBeforeScript4","stateAfterScript1","stateAfterScript2","stateAfterScript3","stateAfterScript4","stateBeforeStyle1","stateBeforeStyle2","stateBeforeStyle3","stateAfterStyle1","stateAfterStyle2","stateAfterStyle3","stateBeforeSpecialT","stateBeforeTitle1","stateBeforeTitle2","stateBeforeTitle3","stateAfterSpecialTEnd","stateAfterTitle1","stateAfterTitle2","stateAfterTitle3","stateBeforeEntity","stateBeforeNumericEntity","buffer","bufferOffset","baseState","special","running","ended","decodeEntities","parse","finish","stateText","getSection","isTagStartChar","stateBeforeTagName","stateInTagName","emitToken","stateBeforeClosingTagName","stateInClosingTagName","stateAfterClosingTagName","stateBeforeAttributeName","stateInSelfClosingTag","stateInAttributeName","stateAfterAttributeName","stateBeforeAttributeValue","handleInAttributeValue","stateInAttributeValueDoubleQuotes","stateInAttributeValueSingleQuotes","stateInAttributeValueNoQuotes","stateBeforeDeclaration","stateInDeclaration","stateInProcessingInstruction","stateBeforeComment","stateInComment","stateInSpecialComment","substring","stateAfterComment1","stateAfterComment2","stateBeforeCdata6","stateInCdata","stateAfterCdata1","stateAfterCdata2","stateBeforeSpecialS","stateBeforeSpecialSEnd","stateBeforeSpecialLast","stateAfterSpecialLast","sectionStartOffset","parseFixedEntity","entity","emitPartial","parseLegacyEntity","start","limit","Math","min","stateInNamedEntity","decodeNumericEntity","offset","base","strict","parsed","stateInNumericEntity","stateInHexEntity","cleanup","charAt","handleTrailingData","__exportStar","RssHandler","DefaultHandler","ElementType","createDomStream","parseDOM","parseDocument","DomHandler","root","cb","elementCb","FeedHandler_1","decode_json_1","fromCodePoint","codePoint","fromCharCode","decodeCodePoint"],"mappings":"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","file":"js/npm.htmlparser2~e93d415e.b1c1c177.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseFeed = exports.FeedHandler = void 0;\nvar domhandler_1 = __importDefault(require(\"domhandler\"));\nvar DomUtils = __importStar(require(\"domutils\"));\nvar Parser_1 = require(\"./Parser\");\nvar FeedItemMediaMedium;\n(function (FeedItemMediaMedium) {\n    FeedItemMediaMedium[FeedItemMediaMedium[\"image\"] = 0] = \"image\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"audio\"] = 1] = \"audio\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"video\"] = 2] = \"video\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"document\"] = 3] = \"document\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"executable\"] = 4] = \"executable\";\n})(FeedItemMediaMedium || (FeedItemMediaMedium = {}));\nvar FeedItemMediaExpression;\n(function (FeedItemMediaExpression) {\n    FeedItemMediaExpression[FeedItemMediaExpression[\"sample\"] = 0] = \"sample\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"full\"] = 1] = \"full\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"nonstop\"] = 2] = \"nonstop\";\n})(FeedItemMediaExpression || (FeedItemMediaExpression = {}));\n// TODO: Consume data as it is coming in\nvar FeedHandler = /** @class */ (function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n    function FeedHandler(callback, options) {\n        var _this = this;\n        if (typeof callback === \"object\") {\n            callback = undefined;\n            options = callback;\n        }\n        _this = _super.call(this, callback, options) || this;\n        return _this;\n    }\n    FeedHandler.prototype.onend = function () {\n        var _a, _b;\n        var feedRoot = getOneElement(isValidFeed, this.dom);\n        if (!feedRoot) {\n            this.handleCallback(new Error(\"couldn't find root of feed\"));\n            return;\n        }\n        var feed = {};\n        if (feedRoot.name === \"feed\") {\n            var childs = feedRoot.children;\n            feed.type = \"atom\";\n            addConditionally(feed, \"id\", \"id\", childs);\n            addConditionally(feed, \"title\", \"title\", childs);\n            var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n            if (href) {\n                feed.link = href;\n            }\n            addConditionally(feed, \"description\", \"subtitle\", childs);\n            var updated = fetch(\"updated\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"email\", childs, true);\n            feed.items = getElements(\"entry\", childs).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"id\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                var href = getAttribute(\"href\", getOneElement(\"link\", children));\n                if (href) {\n                    entry.link = href;\n                }\n                var description = fetch(\"summary\", children) || fetch(\"content\", children);\n                if (description) {\n                    entry.description = description;\n                }\n                var pubDate = fetch(\"updated\", children);\n                if (pubDate) {\n                    entry.pubDate = new Date(pubDate);\n                }\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        else {\n            var childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n            feed.type = feedRoot.name.substr(0, 3);\n            feed.id = \"\";\n            addConditionally(feed, \"title\", \"title\", childs);\n            addConditionally(feed, \"link\", \"link\", childs);\n            addConditionally(feed, \"description\", \"description\", childs);\n            var updated = fetch(\"lastBuildDate\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n            feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"guid\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                addConditionally(entry, \"link\", \"link\", children);\n                addConditionally(entry, \"description\", \"description\", children);\n                var pubDate = fetch(\"pubDate\", children);\n                if (pubDate)\n                    entry.pubDate = new Date(pubDate);\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        this.feed = feed;\n        this.handleCallback(null);\n    };\n    return FeedHandler;\n}(domhandler_1.default));\nexports.FeedHandler = FeedHandler;\nfunction getMediaElements(where) {\n    return getElements(\"media:content\", where).map(function (elem) {\n        var media = {\n            medium: elem.attribs.medium,\n            isDefault: !!elem.attribs.isDefault,\n        };\n        if (elem.attribs.url) {\n            media.url = elem.attribs.url;\n        }\n        if (elem.attribs.fileSize) {\n            media.fileSize = parseInt(elem.attribs.fileSize, 10);\n        }\n        if (elem.attribs.type) {\n            media.type = elem.attribs.type;\n        }\n        if (elem.attribs.expression) {\n            media.expression = elem.attribs\n                .expression;\n        }\n        if (elem.attribs.bitrate) {\n            media.bitrate = parseInt(elem.attribs.bitrate, 10);\n        }\n        if (elem.attribs.framerate) {\n            media.framerate = parseInt(elem.attribs.framerate, 10);\n        }\n        if (elem.attribs.samplingrate) {\n            media.samplingrate = parseInt(elem.attribs.samplingrate, 10);\n        }\n        if (elem.attribs.channels) {\n            media.channels = parseInt(elem.attribs.channels, 10);\n        }\n        if (elem.attribs.duration) {\n            media.duration = parseInt(elem.attribs.duration, 10);\n        }\n        if (elem.attribs.height) {\n            media.height = parseInt(elem.attribs.height, 10);\n        }\n        if (elem.attribs.width) {\n            media.width = parseInt(elem.attribs.width, 10);\n        }\n        if (elem.attribs.lang) {\n            media.lang = elem.attribs.lang;\n        }\n        return media;\n    });\n}\nfunction getElements(tagName, where) {\n    return DomUtils.getElementsByTagName(tagName, where, true);\n}\nfunction getOneElement(tagName, node) {\n    return DomUtils.getElementsByTagName(tagName, node, true, 1)[0];\n}\nfunction fetch(tagName, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return DomUtils.getText(DomUtils.getElementsByTagName(tagName, where, recurse, 1)).trim();\n}\nfunction getAttribute(name, elem) {\n    if (!elem) {\n        return null;\n    }\n    var attribs = elem.attribs;\n    return attribs[name];\n}\nfunction addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var tmp = fetch(what, where, recurse);\n    if (tmp)\n        obj[prop] = tmp;\n}\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this option, you should set `xmlMode` to `true`.\n */\nfunction parseFeed(feed, options) {\n    if (options === void 0) { options = { xmlMode: true }; }\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n}\nexports.parseFeed = parseFeed;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Parser = void 0;\nvar Tokenizer_1 = __importDefault(require(\"./Tokenizer\"));\nvar formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nvar pTag = new Set([\"p\"]);\nvar openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"]),\n};\nvar voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */ (function () {\n    function Parser(cbs, options) {\n        if (options === void 0) { options = {}; }\n        var _a, _b, _c, _d, _e;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = null;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.foreignContext = [];\n        this.options = options;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : !options.xmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : !options.xmlMode;\n        this.tokenizer = new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer_1.default)(this.options, this);\n        (_e = (_d = this.cbs).onparserinit) === null || _e === void 0 ? void 0 : _e.call(_d, this);\n    }\n    Parser.prototype.updatePosition = function (initialOffset) {\n        if (this.endIndex === null) {\n            if (this.tokenizer.sectionStart <= initialOffset) {\n                this.startIndex = 0;\n            }\n            else {\n                this.startIndex = this.tokenizer.sectionStart - initialOffset;\n            }\n        }\n        else {\n            this.startIndex = this.endIndex + 1;\n        }\n        this.endIndex = this.tokenizer.getAbsoluteIndex();\n    };\n    // Tokenizer event handlers\n    Parser.prototype.ontext = function (data) {\n        var _a, _b;\n        this.updatePosition(1);\n        this.endIndex--;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n    };\n    Parser.prototype.onopentagname = function (name) {\n        var _a, _b;\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.tagname = name;\n        if (!this.options.xmlMode &&\n            Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n            var el = void 0;\n            while (this.stack.length > 0 &&\n                openImpliesClose[name].has((el = this.stack[this.stack.length - 1]))) {\n                this.onclosetag(el);\n            }\n        }\n        if (this.options.xmlMode || !voidElements.has(name)) {\n            this.stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this.foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this.foreignContext.push(false);\n            }\n        }\n        (_b = (_a = this.cbs).onopentagname) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    };\n    Parser.prototype.onopentagend = function () {\n        var _a, _b;\n        this.updatePosition(1);\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs);\n            this.attribs = null;\n        }\n        if (!this.options.xmlMode &&\n            this.cbs.onclosetag &&\n            voidElements.has(this.tagname)) {\n            this.cbs.onclosetag(this.tagname);\n        }\n        this.tagname = \"\";\n    };\n    Parser.prototype.onclosetag = function (name) {\n        this.updatePosition(1);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this.foreignContext.pop();\n        }\n        if (this.stack.length &&\n            (this.options.xmlMode || !voidElements.has(name))) {\n            var pos = this.stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this.cbs.onclosetag) {\n                    pos = this.stack.length - pos;\n                    while (pos--) {\n                        // We know the stack has sufficient elements.\n                        this.cbs.onclosetag(this.stack.pop());\n                    }\n                }\n                else\n                    this.stack.length = pos;\n            }\n            else if (name === \"p\" && !this.options.xmlMode) {\n                this.onopentagname(name);\n                this.closeCurrentTag();\n            }\n        }\n        else if (!this.options.xmlMode && (name === \"br\" || name === \"p\")) {\n            this.onopentagname(name);\n            this.closeCurrentTag();\n        }\n    };\n    Parser.prototype.onselfclosingtag = function () {\n        if (this.options.xmlMode ||\n            this.options.recognizeSelfClosing ||\n            this.foreignContext[this.foreignContext.length - 1]) {\n            this.closeCurrentTag();\n        }\n        else {\n            this.onopentagend();\n        }\n    };\n    Parser.prototype.closeCurrentTag = function () {\n        var _a, _b;\n        var name = this.tagname;\n        this.onopentagend();\n        /*\n         * Self-closing tags will be on the top of the stack\n         * (cheaper check than in onclosetag)\n         */\n        if (this.stack[this.stack.length - 1] === name) {\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n            this.stack.pop();\n        }\n    };\n    Parser.prototype.onattribname = function (name) {\n        if (this.lowerCaseAttributeNames) {\n            name = name.toLowerCase();\n        }\n        this.attribname = name;\n    };\n    Parser.prototype.onattribdata = function (value) {\n        this.attribvalue += value;\n    };\n    Parser.prototype.onattribend = function (quote) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n    };\n    Parser.prototype.getInstructionName = function (value) {\n        var idx = value.search(reNameEnd);\n        var name = idx < 0 ? value : value.substr(0, idx);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    };\n    Parser.prototype.ondeclaration = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_1 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n        }\n    };\n    Parser.prototype.onprocessinginstruction = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_2 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n        }\n    };\n    Parser.prototype.oncomment = function (value) {\n        var _a, _b, _c, _d;\n        this.updatePosition(4);\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n    };\n    Parser.prototype.oncdata = function (value) {\n        var _a, _b, _c, _d, _e, _f;\n        this.updatePosition(1);\n        if (this.options.xmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            this.oncomment(\"[CDATA[\" + value + \"]]\");\n        }\n    };\n    Parser.prototype.onerror = function (err) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    Parser.prototype.onend = function () {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            for (var i = this.stack.length; i > 0; this.cbs.onclosetag(this.stack[--i]))\n                ;\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    Parser.prototype.reset = function () {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack = [];\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n    };\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    Parser.prototype.parseComplete = function (data) {\n        this.reset();\n        this.end(data);\n    };\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    Parser.prototype.write = function (chunk) {\n        this.tokenizer.write(chunk);\n    };\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    Parser.prototype.end = function (chunk) {\n        this.tokenizer.end(chunk);\n    };\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    Parser.prototype.pause = function () {\n        this.tokenizer.pause();\n    };\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    Parser.prototype.resume = function () {\n        this.tokenizer.resume();\n    };\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.parseChunk = function (chunk) {\n        this.write(chunk);\n    };\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.done = function (chunk) {\n        this.end(chunk);\n    };\n    return Parser;\n}());\nexports.Parser = Parser;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(require(\"entities/lib/decode_codepoint\"));\nvar entities_json_1 = __importDefault(require(\"entities/lib/maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"entities/lib/maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"entities/lib/maps/xml.json\"));\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction isASCIIAlpha(c) {\n    return (c >= \"a\" && c <= \"z\") || (c >= \"A\" && c <= \"Z\");\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n    if (upper === lower) {\n        return function (t, c) {\n            if (c === lower) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = SUCCESS;\n        }\n        else {\n            t._state = FAILURE;\n            t._index--;\n        }\n    };\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = NEXT_STATE;\n        }\n        else {\n            t._state = 3 /* InTagName */;\n            t._index--; // Consume the token again\n        }\n    };\n}\nvar stateBeforeCdata1 = ifElseState(\"C\", 24 /* BeforeCdata2 */, 16 /* InDeclaration */);\nvar stateBeforeCdata2 = ifElseState(\"D\", 25 /* BeforeCdata3 */, 16 /* InDeclaration */);\nvar stateBeforeCdata3 = ifElseState(\"A\", 26 /* BeforeCdata4 */, 16 /* InDeclaration */);\nvar stateBeforeCdata4 = ifElseState(\"T\", 27 /* BeforeCdata5 */, 16 /* InDeclaration */);\nvar stateBeforeCdata5 = ifElseState(\"A\", 28 /* BeforeCdata6 */, 16 /* InDeclaration */);\nvar stateBeforeScript1 = consumeSpecialNameChar(\"R\", 35 /* BeforeScript2 */);\nvar stateBeforeScript2 = consumeSpecialNameChar(\"I\", 36 /* BeforeScript3 */);\nvar stateBeforeScript3 = consumeSpecialNameChar(\"P\", 37 /* BeforeScript4 */);\nvar stateBeforeScript4 = consumeSpecialNameChar(\"T\", 38 /* BeforeScript5 */);\nvar stateAfterScript1 = ifElseState(\"R\", 40 /* AfterScript2 */, 1 /* Text */);\nvar stateAfterScript2 = ifElseState(\"I\", 41 /* AfterScript3 */, 1 /* Text */);\nvar stateAfterScript3 = ifElseState(\"P\", 42 /* AfterScript4 */, 1 /* Text */);\nvar stateAfterScript4 = ifElseState(\"T\", 43 /* AfterScript5 */, 1 /* Text */);\nvar stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 45 /* BeforeStyle2 */);\nvar stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 46 /* BeforeStyle3 */);\nvar stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 47 /* BeforeStyle4 */);\nvar stateAfterStyle1 = ifElseState(\"Y\", 49 /* AfterStyle2 */, 1 /* Text */);\nvar stateAfterStyle2 = ifElseState(\"L\", 50 /* AfterStyle3 */, 1 /* Text */);\nvar stateAfterStyle3 = ifElseState(\"E\", 51 /* AfterStyle4 */, 1 /* Text */);\nvar stateBeforeSpecialT = consumeSpecialNameChar(\"I\", 54 /* BeforeTitle1 */);\nvar stateBeforeTitle1 = consumeSpecialNameChar(\"T\", 55 /* BeforeTitle2 */);\nvar stateBeforeTitle2 = consumeSpecialNameChar(\"L\", 56 /* BeforeTitle3 */);\nvar stateBeforeTitle3 = consumeSpecialNameChar(\"E\", 57 /* BeforeTitle4 */);\nvar stateAfterSpecialTEnd = ifElseState(\"I\", 58 /* AfterTitle1 */, 1 /* Text */);\nvar stateAfterTitle1 = ifElseState(\"T\", 59 /* AfterTitle2 */, 1 /* Text */);\nvar stateAfterTitle2 = ifElseState(\"L\", 60 /* AfterTitle3 */, 1 /* Text */);\nvar stateAfterTitle3 = ifElseState(\"E\", 61 /* AfterTitle4 */, 1 /* Text */);\nvar stateBeforeEntity = ifElseState(\"#\", 63 /* BeforeNumericEntity */, 64 /* InNamedEntity */);\nvar stateBeforeNumericEntity = ifElseState(\"X\", 66 /* InHexEntity */, 65 /* InNumericEntity */);\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(options, cbs) {\n        var _a;\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this.bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this.special = 1 /* None */;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs;\n        this.xmlMode = !!(options === null || options === void 0 ? void 0 : options.xmlMode);\n        this.decodeEntities = (_a = options === null || options === void 0 ? void 0 : options.decodeEntities) !== null && _a !== void 0 ? _a : true;\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this._index = 0;\n        this.bufferOffset = 0;\n        this.baseState = 1 /* Text */;\n        this.special = 1 /* None */;\n        this.running = true;\n        this.ended = false;\n    };\n    Tokenizer.prototype.write = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".write() after done!\"));\n        this.buffer += chunk;\n        this.parse();\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        if (this.running)\n            this.finish();\n    };\n    Tokenizer.prototype.pause = function () {\n        this.running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this.running = true;\n        if (this._index < this.buffer.length) {\n            this.parse();\n        }\n        if (this.ended) {\n            this.finish();\n        }\n    };\n    /**\n     * The current index within all of the written data.\n     */\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this.bufferOffset + this._index;\n    };\n    Tokenizer.prototype.stateText = function (c) {\n        if (c === \"<\") {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this.sectionStart = this._index;\n        }\n        else if (this.decodeEntities &&\n            c === \"&\" &&\n            (this.special === 1 /* None */ || this.special === 4 /* Title */)) {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this.baseState = 1 /* Text */;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    Tokenizer.prototype.isTagStartChar = function (c) {\n        return (isASCIIAlpha(c) ||\n            (this.xmlMode && !whitespace(c) && c !== \"/\" && c !== \">\"));\n    };\n    Tokenizer.prototype.stateBeforeTagName = function (c) {\n        if (c === \"/\") {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else if (c === \"<\") {\n            this.cbs.ontext(this.getSection());\n            this.sectionStart = this._index;\n        }\n        else if (c === \">\" ||\n            this.special !== 1 /* None */ ||\n            whitespace(c)) {\n            this._state = 1 /* Text */;\n        }\n        else if (c === \"!\") {\n            this._state = 15 /* BeforeDeclaration */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"?\") {\n            this._state = 17 /* InProcessingInstruction */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!this.isTagStartChar(c)) {\n            this._state = 1 /* Text */;\n        }\n        else {\n            this._state =\n                !this.xmlMode && (c === \"s\" || c === \"S\")\n                    ? 32 /* BeforeSpecialS */\n                    : !this.xmlMode && (c === \"t\" || c === \"T\")\n                        ? 52 /* BeforeSpecialT */\n                        : 3 /* InTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInTagName = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.emitToken(\"onopentagname\");\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateBeforeClosingTagName = function (c) {\n        if (whitespace(c)) {\n            // Ignore\n        }\n        else if (c === \">\") {\n            this._state = 1 /* Text */;\n        }\n        else if (this.special !== 1 /* None */) {\n            if (this.special !== 4 /* Title */ && (c === \"s\" || c === \"S\")) {\n                this._state = 33 /* BeforeSpecialSEnd */;\n            }\n            else if (this.special === 4 /* Title */ &&\n                (c === \"t\" || c === \"T\")) {\n                this._state = 53 /* BeforeSpecialTEnd */;\n            }\n            else {\n                this._state = 1 /* Text */;\n                this._index--;\n            }\n        }\n        else if (!this.isTagStartChar(c)) {\n            this._state = 20 /* InSpecialComment */;\n            this.sectionStart = this._index;\n        }\n        else {\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInClosingTagName = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this.emitToken(\"onclosetag\");\n            this._state = 7 /* AfterClosingTagName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterClosingTagName = function (c) {\n        // Skip everything until \">\"\n        if (c === \">\") {\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeName = function (c) {\n        if (c === \">\") {\n            this.cbs.onopentagend();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"/\") {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!whitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInSelfClosingTag = function (c) {\n        if (c === \">\") {\n            this.cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n            this.special = 1 /* None */; // Reset special state, in case of self-closing special tags\n        }\n        else if (!whitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeName = function (c) {\n        if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n            this.cbs.onattribname(this.getSection());\n            this.sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterAttributeName = function (c) {\n        if (c === \"=\") {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === \"/\" || c === \">\") {\n            this.cbs.onattribend(undefined);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (!whitespace(c)) {\n            this.cbs.onattribend(undefined);\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeValue = function (c) {\n        if (c === '\"') {\n            this._state = 12 /* InAttributeValueDq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"'\") {\n            this._state = 13 /* InAttributeValueSq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 14 /* InAttributeValueNq */;\n            this.sectionStart = this._index;\n            this._index--; // Reconsume token\n        }\n    };\n    Tokenizer.prototype.handleInAttributeValue = function (c, quote) {\n        if (c === quote) {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(quote);\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeValueDoubleQuotes = function (c) {\n        this.handleInAttributeValue(c, '\"');\n    };\n    Tokenizer.prototype.stateInAttributeValueSingleQuotes = function (c) {\n        this.handleInAttributeValue(c, \"'\");\n    };\n    Tokenizer.prototype.stateInAttributeValueNoQuotes = function (c) {\n        if (whitespace(c) || c === \">\") {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(null);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeDeclaration = function (c) {\n        this._state =\n            c === \"[\"\n                ? 23 /* BeforeCdata1 */\n                : c === \"-\"\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n    };\n    Tokenizer.prototype.stateInDeclaration = function (c) {\n        if (c === \">\") {\n            this.cbs.ondeclaration(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateInProcessingInstruction = function (c) {\n        if (c === \">\") {\n            this.cbs.onprocessinginstruction(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeComment = function (c) {\n        if (c === \"-\") {\n            this._state = 19 /* InComment */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype.stateInComment = function (c) {\n        if (c === \"-\")\n            this._state = 21 /* AfterComment1 */;\n    };\n    Tokenizer.prototype.stateInSpecialComment = function (c) {\n        if (c === \">\") {\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment1 = function (c) {\n        if (c === \"-\") {\n            this._state = 22 /* AfterComment2 */;\n        }\n        else {\n            this._state = 19 /* InComment */;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"-\") {\n            this._state = 19 /* InComment */;\n        }\n        // Else: stay in AFTER_COMMENT_2 (`--->`)\n    };\n    Tokenizer.prototype.stateBeforeCdata6 = function (c) {\n        if (c === \"[\") {\n            this._state = 29 /* InCdata */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInCdata = function (c) {\n        if (c === \"]\")\n            this._state = 30 /* AfterCdata1 */;\n    };\n    Tokenizer.prototype.stateAfterCdata1 = function (c) {\n        if (c === \"]\")\n            this._state = 31 /* AfterCdata2 */;\n        else\n            this._state = 29 /* InCdata */;\n    };\n    Tokenizer.prototype.stateAfterCdata2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncdata(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"]\") {\n            this._state = 29 /* InCdata */;\n        }\n        // Else: stay in AFTER_CDATA_2 (`]]]>`)\n    };\n    Tokenizer.prototype.stateBeforeSpecialS = function (c) {\n        if (c === \"c\" || c === \"C\") {\n            this._state = 34 /* BeforeScript1 */;\n        }\n        else if (c === \"t\" || c === \"T\") {\n            this._state = 44 /* BeforeStyle1 */;\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this._index--; // Consume the token again\n        }\n    };\n    Tokenizer.prototype.stateBeforeSpecialSEnd = function (c) {\n        if (this.special === 2 /* Script */ && (c === \"c\" || c === \"C\")) {\n            this._state = 39 /* AfterScript1 */;\n        }\n        else if (this.special === 3 /* Style */ && (c === \"t\" || c === \"T\")) {\n            this._state = 48 /* AfterStyle1 */;\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype.stateBeforeSpecialLast = function (c, special) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.special = special;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; // Consume the token again\n    };\n    Tokenizer.prototype.stateAfterSpecialLast = function (c, sectionStartOffset) {\n        if (c === \">\" || whitespace(c)) {\n            this.special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index - sectionStartOffset;\n            this._index--; // Reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    // For entities terminated with a semicolon\n    Tokenizer.prototype.parseFixedEntity = function (map) {\n        if (map === void 0) { map = this.xmlMode ? xml_json_1.default : entities_json_1.default; }\n        // Offset = 1\n        if (this.sectionStart + 1 < this._index) {\n            var entity = this.buffer.substring(this.sectionStart + 1, this._index);\n            if (Object.prototype.hasOwnProperty.call(map, entity)) {\n                this.emitPartial(map[entity]);\n                this.sectionStart = this._index + 1;\n            }\n        }\n    };\n    // Parses legacy entities (without trailing semicolon)\n    Tokenizer.prototype.parseLegacyEntity = function () {\n        var start = this.sectionStart + 1;\n        // The max length of legacy entities is 6\n        var limit = Math.min(this._index - start, 6);\n        while (limit >= 2) {\n            // The min length of legacy entities is 2\n            var entity = this.buffer.substr(start, limit);\n            if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n                this.emitPartial(legacy_json_1.default[entity]);\n                this.sectionStart += limit + 1;\n                return;\n            }\n            limit--;\n        }\n    };\n    Tokenizer.prototype.stateInNamedEntity = function (c) {\n        if (c === \";\") {\n            this.parseFixedEntity();\n            // Retry as legacy entity if entity wasn't parsed\n            if (this.baseState === 1 /* Text */ &&\n                this.sectionStart + 1 < this._index &&\n                !this.xmlMode) {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n        }\n        else if ((c < \"0\" || c > \"9\") && !isASCIIAlpha(c)) {\n            if (this.xmlMode || this.sectionStart + 1 === this._index) {\n                // Ignore\n            }\n            else if (this.baseState !== 1 /* Text */) {\n                if (c !== \"=\") {\n                    // Parse as legacy entity, without allowing additional characters.\n                    this.parseFixedEntity(legacy_json_1.default);\n                }\n            }\n            else {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.decodeNumericEntity = function (offset, base, strict) {\n        var sectionStart = this.sectionStart + offset;\n        if (sectionStart !== this._index) {\n            // Parse entity\n            var entity = this.buffer.substring(sectionStart, this._index);\n            var parsed = parseInt(entity, base);\n            this.emitPartial(decode_codepoint_1.default(parsed));\n            this.sectionStart = strict ? this._index + 1 : this._index;\n        }\n        this._state = this.baseState;\n    };\n    Tokenizer.prototype.stateInNumericEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(2, 10, true);\n        }\n        else if (c < \"0\" || c > \"9\") {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(2, 10, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInHexEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(3, 16, true);\n        }\n        else if ((c < \"a\" || c > \"f\") &&\n            (c < \"A\" || c > \"F\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(3, 16, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.cleanup = function () {\n        if (this.sectionStart < 0) {\n            this.buffer = \"\";\n            this.bufferOffset += this._index;\n            this._index = 0;\n        }\n        else if (this.running) {\n            if (this._state === 1 /* Text */) {\n                if (this.sectionStart !== this._index) {\n                    this.cbs.ontext(this.buffer.substr(this.sectionStart));\n                }\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else if (this.sectionStart === this._index) {\n                // The section just started\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else {\n                // Remove everything unnecessary\n                this.buffer = this.buffer.substr(this.sectionStart);\n                this._index -= this.sectionStart;\n                this.bufferOffset += this.sectionStart;\n            }\n            this.sectionStart = 0;\n        }\n    };\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    Tokenizer.prototype.parse = function () {\n        while (this._index < this.buffer.length && this.running) {\n            var c = this.buffer.charAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this.stateText(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this.stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this.stateInAttributeName(c);\n            }\n            else if (this._state === 19 /* InComment */) {\n                this.stateInComment(c);\n            }\n            else if (this._state === 20 /* InSpecialComment */) {\n                this.stateInSpecialComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this.stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this.stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this.stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this.stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this.stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this.stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this.stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this.stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this.stateAfterClosingTagName(c);\n            }\n            else if (this._state === 32 /* BeforeSpecialS */) {\n                this.stateBeforeSpecialS(c);\n            }\n            else if (this._state === 21 /* AfterComment1 */) {\n                this.stateAfterComment1(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this.stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this.stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this.stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this.stateBeforeDeclaration(c);\n            }\n            else if (this._state === 22 /* AfterComment2 */) {\n                this.stateAfterComment2(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this.stateBeforeComment(c);\n            }\n            else if (this._state === 33 /* BeforeSpecialSEnd */) {\n                this.stateBeforeSpecialSEnd(c);\n            }\n            else if (this._state === 53 /* BeforeSpecialTEnd */) {\n                stateAfterSpecialTEnd(this, c);\n            }\n            else if (this._state === 39 /* AfterScript1 */) {\n                stateAfterScript1(this, c);\n            }\n            else if (this._state === 40 /* AfterScript2 */) {\n                stateAfterScript2(this, c);\n            }\n            else if (this._state === 41 /* AfterScript3 */) {\n                stateAfterScript3(this, c);\n            }\n            else if (this._state === 34 /* BeforeScript1 */) {\n                stateBeforeScript1(this, c);\n            }\n            else if (this._state === 35 /* BeforeScript2 */) {\n                stateBeforeScript2(this, c);\n            }\n            else if (this._state === 36 /* BeforeScript3 */) {\n                stateBeforeScript3(this, c);\n            }\n            else if (this._state === 37 /* BeforeScript4 */) {\n                stateBeforeScript4(this, c);\n            }\n            else if (this._state === 38 /* BeforeScript5 */) {\n                this.stateBeforeSpecialLast(c, 2 /* Script */);\n            }\n            else if (this._state === 42 /* AfterScript4 */) {\n                stateAfterScript4(this, c);\n            }\n            else if (this._state === 43 /* AfterScript5 */) {\n                this.stateAfterSpecialLast(c, 6);\n            }\n            else if (this._state === 44 /* BeforeStyle1 */) {\n                stateBeforeStyle1(this, c);\n            }\n            else if (this._state === 29 /* InCdata */) {\n                this.stateInCdata(c);\n            }\n            else if (this._state === 45 /* BeforeStyle2 */) {\n                stateBeforeStyle2(this, c);\n            }\n            else if (this._state === 46 /* BeforeStyle3 */) {\n                stateBeforeStyle3(this, c);\n            }\n            else if (this._state === 47 /* BeforeStyle4 */) {\n                this.stateBeforeSpecialLast(c, 3 /* Style */);\n            }\n            else if (this._state === 48 /* AfterStyle1 */) {\n                stateAfterStyle1(this, c);\n            }\n            else if (this._state === 49 /* AfterStyle2 */) {\n                stateAfterStyle2(this, c);\n            }\n            else if (this._state === 50 /* AfterStyle3 */) {\n                stateAfterStyle3(this, c);\n            }\n            else if (this._state === 51 /* AfterStyle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 52 /* BeforeSpecialT */) {\n                stateBeforeSpecialT(this, c);\n            }\n            else if (this._state === 54 /* BeforeTitle1 */) {\n                stateBeforeTitle1(this, c);\n            }\n            else if (this._state === 55 /* BeforeTitle2 */) {\n                stateBeforeTitle2(this, c);\n            }\n            else if (this._state === 56 /* BeforeTitle3 */) {\n                stateBeforeTitle3(this, c);\n            }\n            else if (this._state === 57 /* BeforeTitle4 */) {\n                this.stateBeforeSpecialLast(c, 4 /* Title */);\n            }\n            else if (this._state === 58 /* AfterTitle1 */) {\n                stateAfterTitle1(this, c);\n            }\n            else if (this._state === 59 /* AfterTitle2 */) {\n                stateAfterTitle2(this, c);\n            }\n            else if (this._state === 60 /* AfterTitle3 */) {\n                stateAfterTitle3(this, c);\n            }\n            else if (this._state === 61 /* AfterTitle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this.stateInProcessingInstruction(c);\n            }\n            else if (this._state === 64 /* InNamedEntity */) {\n                this.stateInNamedEntity(c);\n            }\n            else if (this._state === 23 /* BeforeCdata1 */) {\n                stateBeforeCdata1(this, c);\n            }\n            else if (this._state === 62 /* BeforeEntity */) {\n                stateBeforeEntity(this, c);\n            }\n            else if (this._state === 24 /* BeforeCdata2 */) {\n                stateBeforeCdata2(this, c);\n            }\n            else if (this._state === 25 /* BeforeCdata3 */) {\n                stateBeforeCdata3(this, c);\n            }\n            else if (this._state === 30 /* AfterCdata1 */) {\n                this.stateAfterCdata1(c);\n            }\n            else if (this._state === 31 /* AfterCdata2 */) {\n                this.stateAfterCdata2(c);\n            }\n            else if (this._state === 26 /* BeforeCdata4 */) {\n                stateBeforeCdata4(this, c);\n            }\n            else if (this._state === 27 /* BeforeCdata5 */) {\n                stateBeforeCdata5(this, c);\n            }\n            else if (this._state === 28 /* BeforeCdata6 */) {\n                this.stateBeforeCdata6(c);\n            }\n            else if (this._state === 66 /* InHexEntity */) {\n                this.stateInHexEntity(c);\n            }\n            else if (this._state === 65 /* InNumericEntity */) {\n                this.stateInNumericEntity(c);\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n            }\n            else if (this._state === 63 /* BeforeNumericEntity */) {\n                stateBeforeNumericEntity(this, c);\n            }\n            else {\n                this.cbs.onerror(Error(\"unknown _state\"), this._state);\n            }\n            this._index++;\n        }\n        this.cleanup();\n    };\n    Tokenizer.prototype.finish = function () {\n        // If there is remaining data, emit it in a reasonable way\n        if (this.sectionStart < this._index) {\n            this.handleTrailingData();\n        }\n        this.cbs.onend();\n    };\n    Tokenizer.prototype.handleTrailingData = function () {\n        var data = this.buffer.substr(this.sectionStart);\n        if (this._state === 29 /* InCdata */ ||\n            this._state === 30 /* AfterCdata1 */ ||\n            this._state === 31 /* AfterCdata2 */) {\n            this.cbs.oncdata(data);\n        }\n        else if (this._state === 19 /* InComment */ ||\n            this._state === 21 /* AfterComment1 */ ||\n            this._state === 22 /* AfterComment2 */) {\n            this.cbs.oncomment(data);\n        }\n        else if (this._state === 64 /* InNamedEntity */ && !this.xmlMode) {\n            this.parseLegacyEntity();\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 65 /* InNumericEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(2, 10, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 66 /* InHexEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(3, 16, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state !== 3 /* InTagName */ &&\n            this._state !== 8 /* BeforeAttributeName */ &&\n            this._state !== 11 /* BeforeAttributeValue */ &&\n            this._state !== 10 /* AfterAttributeName */ &&\n            this._state !== 9 /* InAttributeName */ &&\n            this._state !== 13 /* InAttributeValueSq */ &&\n            this._state !== 12 /* InAttributeValueDq */ &&\n            this._state !== 14 /* InAttributeValueNq */ &&\n            this._state !== 6 /* InClosingTagName */) {\n            this.cbs.ontext(data);\n        }\n        /*\n         * Else, ignore remaining data\n         * TODO add a way to remove current tag\n         */\n    };\n    Tokenizer.prototype.getSection = function () {\n        return this.buffer.substring(this.sectionStart, this._index);\n    };\n    Tokenizer.prototype.emitToken = function (name) {\n        this.cbs[name](this.getSection());\n        this.sectionStart = -1;\n    };\n    Tokenizer.prototype.emitPartial = function (value) {\n        if (this.baseState !== 1 /* Text */) {\n            this.cbs.onattribdata(value); // TODO implement the new event\n        }\n        else {\n            this.cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RssHandler = exports.DefaultHandler = exports.DomUtils = exports.ElementType = exports.Tokenizer = exports.createDomStream = exports.parseDOM = exports.parseDocument = exports.DomHandler = exports.Parser = void 0;\nvar Parser_1 = require(\"./Parser\");\nObject.defineProperty(exports, \"Parser\", { enumerable: true, get: function () { return Parser_1.Parser; } });\nvar domhandler_1 = require(\"domhandler\");\nObject.defineProperty(exports, \"DomHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\nObject.defineProperty(exports, \"DefaultHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nfunction parseDocument(data, options) {\n    var handler = new domhandler_1.DomHandler(undefined, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.root;\n}\nexports.parseDocument = parseDocument;\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n * @deprecated Use `parseDocument` instead.\n */\nfunction parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\nexports.parseDOM = parseDOM;\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param cb A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nfunction createDomStream(cb, options, elementCb) {\n    var handler = new domhandler_1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n}\nexports.createDomStream = createDomStream;\nvar Tokenizer_1 = require(\"./Tokenizer\");\nObject.defineProperty(exports, \"Tokenizer\", { enumerable: true, get: function () { return __importDefault(Tokenizer_1).default; } });\nvar ElementType = __importStar(require(\"domelementtype\"));\nexports.ElementType = ElementType;\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\n__exportStar(require(\"./FeedHandler\"), exports);\nexports.DomUtils = __importStar(require(\"domutils\"));\nvar FeedHandler_1 = require(\"./FeedHandler\");\nObject.defineProperty(exports, \"RssHandler\", { enumerable: true, get: function () { return FeedHandler_1.FeedHandler; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n"],"sourceRoot":""}