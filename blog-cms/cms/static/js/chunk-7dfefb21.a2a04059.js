(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dfefb21"],{"18c2":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",[e._v("修改当前登录账户")])]),o("el-form",{attrs:{model:e.account,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"账号"}},[o("el-input",{model:{value:e.account.username,callback:function(t){e.$set(e.account,"username",t)},expression:"account.username"}})],1),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{model:{value:e.account.password,callback:function(t){e.$set(e.account,"password",t)},expression:"account.password"}})],1),o("el-popconfirm",{attrs:{title:"确定修改吗？",icon:"el-icon-user-solid",iconColor:"#409EFF"},on:{onConfirm:e.save}},[o("el-button",{attrs:{slot:"reference",type:"primary",size:"medium",icon:"el-icon-check",disabled:!e.account.username||!e.account.password},slot:"reference"},[e._v("确认修改")])],1)],1)],1)],1)},n=[],s=o("4020");function a(e){return Object(s["a"])({url:"account",method:"POST",data:{...e}})}var c={name:"Setting",data(){return{user:{},account:{username:"",password:""}}},created(){this.user=JSON.parse(window.localStorage.getItem("user")||null),this.account.username=this.user.username},methods:{save(){a(this.account).then(e=>{this.msgSuccess(e.msg),this.logout()})},logout(){window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),this.$router.push("/login")}}},u=c,i=(o("3ff6"),o("2877")),l=Object(i["a"])(u,r,n,!1,null,"461e43e1",null);t["default"]=l.exports},"255d":function(e,t,o){},"3ff6":function(e,t,o){"use strict";o("255d")},4020:function(e,t,o){"use strict";var r=o("bc3a"),n=o.n(r),s=o("323e"),a=o.n(s),c=(o("a5d8"),o("5c96"));const u=n.a.create({baseURL:"/api/admin/",timeout:5e3});let i=n.a.CancelToken;u.interceptors.request.use(e=>{const t=window.localStorage.getItem("user")||"{}",o=JSON.parse(t);if("{}"!==t&&"ROLE_admin"!==o.role&&"get"!==e.method)return e.cancelToken=new i((function(e){e("演示模式，不允许操作")})),e;a.a.start();const r=window.localStorage.getItem("token");return r&&(e.headers.Authorization=r),e},e=>(console.info(e),Promise.reject(e))),u.interceptors.response.use(e=>{a.a.done();const t=e.data;if(200!==t.code){let e=t.msg||"Error";return c["Message"].error(e),Promise.reject(new Error(e))}return t},e=>(console.info(e),c["Message"].error(e.message),Promise.reject(e))),t["a"]=u}}]);